<div class="container mt-5">
    <h1 class="text-center mb-4">My Lists</h1>

    <div class="list-group">
        <% @lists.each do |list| %>
            <div class="list-group-item">
                <div class="d-flex justify-content-between align-items-center">
                    <%= link_to list_path(list), class: "text-decoration-none flex-grow-1" do %>
                        <h5 class="mb-1"><%= list.name %></h5>
                    <% end %>
                    <%= link_to list_path(list), method: :delete, data: { turbo_method: :delete, turbo_confirm: "Êtes-vous sûr ?" }, class: "btn btn-danger btn-sm" do %>
                        <i class="far fa-trash-alt"></i>
                    <% end %>
                </div>
                <div class="d-flex flex-wrap">
                    <% list.movies.limit(3).each do |movie| %>
                        <img src="<%= movie.poster_url %>" class="img-thumbnail me-2" style="width: 100px; height: auto;" alt="<%= movie.title %>">
                    <% end %>
                </div>
                <p class="mb-1">Number of bookmarks: <%= list.bookmarks.count %></p>
            </div>
        <% end %>
    </div>

    <div class="mt-4 text-center">
        <%= link_to 'Add a New List', new_list_path, class: "btn btn-primary" %>
    </div>
</div>
